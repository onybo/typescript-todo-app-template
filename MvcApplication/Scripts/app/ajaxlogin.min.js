var Todo;(function(n){var t=function(){function t(){}return t.prototype.setup=function(){$("#showRegister").click(function(){$("#loginPanel").hide("slide",function(){$("#registerPanel").show("slide",function(){$("#registerName").focus()})})}),$("#showLogin").click(function(){$("#registerPanel").hide("slide",function(){$("#loginPanel").show("slide",function(){$("#loginName").focus()})})}),$("#loginForm").submit(n.formSubmitHandler),$("#registerForm").submit(n.formSubmitHandler)},t}();n.getValidationSummaryErrors=function(n){return n.find(".validation-summary-errors, .validation-summary-valid")},n.displayErrors=function(t,i){var r=n.getValidationSummaryErrors(t).removeClass("validation-summary-valid").addClass("validation-summary-errors"),u=$.map(i,function(n){return"<li>"+n+"<\/li>"}).join(""),f=r.find("ul").empty().append(u)},n.formSubmitHandler=function(t){var i=$(this);(!i.valid||i.valid())&&$.post(i.attr("action"),i.serializeArray()).done(function(t){t=t||{},t.success?location=t.redirect||location.href:t.errors&&n.displayErrors(i,t.errors)}).fail(function(){n.displayErrors(i,["An unknown error happened."])}),t.preventDefault()},(new t).setup()})(Todo||(Todo={}))